import {Injector} from "@onscroll/di-ts";
import {expect} from "chai";
import {StatsDClientFactory} from "./StatsDClientFactory";

const injector = new Injector([]),
    statsDClientFactory = injector.get(StatsDClientFactory);

describe("StatsDClientFactory", () => {

    describe("when asked to create an instance of the connector", () => {

        describe("when some of required parameters are missing", () => {

            it("should throw an exception", () => {

                expect(() => {

                    statsDClientFactory.createClient({});

                }).to.throw();


            });

        });

        describe("when all parameters exist", () => {

            it("should return an instance of connector", () => {

                const connector = statsDClientFactory.createClient({
                    name: "test",
                    host: "test",
                    port: 1337
                });

                expect(connector).to.be.an.instanceOf(Object);

            });

        });

    });

});
