import {Injector} from "@onscroll/di-ts";
import {expect} from "chai";
import {BunyanLoggerFactory} from "./BunyanLoggerFactory";

const injector = new Injector([]),
    bunyanLoggerFactory = injector.get(BunyanLoggerFactory);

describe("BunyanLoggerFactory", () => {

    describe("when asked to create an instance of the logger", () => {

        describe("when some of required parameters are missing", () => {

            it("should throw an exception", () => {

                const createLogger = () => {

                    bunyanLoggerFactory.createLogger({});

                };

                expect(createLogger).to.throw;


            });

        });

        describe("when all parameters exist", () => {

            it("should return an instance of Bunyan", () => {

                const logger = bunyanLoggerFactory.createLogger({
                    name: "test",
                    token: "test",
                    subdomain: "test"
                });

                expect(logger).to.be.an.instanceOf(Object);

            });


        });

    });

});
